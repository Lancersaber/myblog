---
title: Docker镜像原理
date: 2019-10-24 23:15:15
categories: docker
tags: docker
---

# Docker镜像原理
---
## Docker镜像是什么？
镜像是一种轻量级的、可执行的独立软件包，用来打包软件运行环境和基于环境开发的软件，它包含运行某个软件所需的所有内容，包阔代码、运行时、库、环境变量等等配置文件

## UnionFS(联合文件系统)
UnionFS是一种分层、轻量级并且高性能的文件系统，它支持对文件系统的修改作为一次提交来一层层的叠加，同时可以将不同目录挂载到同一个虚拟文件系统下。Union文件系统是Docker镜像的基础。*镜像可以通过分层来进行继承，基于基础镜像，可以制作各种具体的应用镜像*

## Dockers镜像加载原理
docker的镜像实际上由一层一层的文件系统组成，这种层级的文件系统为UnionFS。

## 分层的镜像
以我们的pul为例，在下载的过程中我们可以看到docker的镜像是一层一层在下载的

##为什么Docker镜像要采用这种分层结构？
最大的好处是-共享资源。
比如：有多个镜像都从相同的base镜像构建而来，那么宿主主机只需在磁盘上保留一份base镜像，同时内存中也只需加载一份base镜像，就可以为所有容器服务了。而且镜像的每一层都可以共享。