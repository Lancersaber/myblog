---
title: 重新组织函数
time: 2019-11-02
categories: 重构
tags: 重构
---

# 重新组织函数
---
## 1.Extract Method(提炼函数)

### 概述
将一段代码放进一个独立函数中，并让函数名称解释该函数的作用

### 动机
有下面几个原因造成我喜欢简短而命名良好的函数

* 如果每个函数的粒度都很小，那么函数被复用的机会就更大
* 这会使高层函数读起来就像一系列注释
* 如果函数都是细粒度，那么函数的覆写也会更容易

### 做法
1. 创造一个新函数，根据这个函数的意图来对它命名
2. 将提炼出的代码从源函数复制到新建的目标函数中
3. 仔细检查提炼的代码，看看其中是否引用了局部变量被它修改
4. 将被提炼的代码段中需要读取的局部变量，当作参数传给目标函数
5. 处理完所有局部变量之后，进行编译
6. 编译，测试

